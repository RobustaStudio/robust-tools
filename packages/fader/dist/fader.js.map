{"version":3,"sources":["../lib/fader.js"],"names":["Fader","selector","options","defaultOptions","wrapperClasses","titleAnimation","transition","Object","assign","initialize","slider","document","querySelector","console","warn","wrapper","generateWrapper","bullets","generateBullets","assignAnimation","click","titles","querySelectorAll","length","forEach","title","classList","add","sliderWrapper","createElement","parentNode","appendChild","bulletsContainer","slides","children","i","bullet","button","innerHTML","type","dataset","index","addEventListener","handleClickedBullet","bind","insertBefore","nextSibling","ev","active","target","closest","remove","resetActiveSlide","setActiveSlide","timer","clearTimeout","startTimer","nextSlideIndex","setTimeout"],"mappings":"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","sourcesContent":["'use strict';\n\nclass Fader {\n\tconstructor(selector, options) {\n\t\tthis.options = options;\n\t\tconst defaultOptions = {\n\t\t\twrapperClasses: ['slider'],\n\t\t\ttitleAnimation: '', // focus-in-contract-bck, text-focus-in\n\t\t\ttransition: 5000,\n\t\t};\n\t\tObject.assign(defaultOptions, this.options);\n\t\tthis.selector = selector;\n\t\tthis.initialize();\n\t}\n\n\tinitialize() {\n\t\tthis.slider = document.querySelector(this.selector);\n\t\tif (!this.slider) {\n\t\t\tconsole.warn(`Error: Cannot find element with the selector ${this.selector}`);\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.wrapper = this.generateWrapper();\n\t\tthis.bullets = this.generateBullets();\n\n\t\tif (this.options.titleAnimation) {\n\t\t\tthis.assignAnimation();\n\t\t}\n\n\t\tthis.bullets[0].click();\n\t}\n\n\tassignAnimation() {\n\t\tconst titles = this.wrapper.querySelectorAll('.slider__title');\n\t\tif (titles.length > 0) {\n\t\t\ttitles.forEach((title) => {\n\t\t\t\ttitle.classList.add(this.options.titleAnimation);\n\t\t\t});\n\t\t}\n\t}\n\n\tgenerateWrapper() {\n\t\tconst sliderWrapper = document.createElement('div');\n\t\tsliderWrapper.classList.add(...this.options.wrapperClasses);\n\t\tthis.slider.classList.add('slider__slides');\n\t\tthis.slider.parentNode.appendChild(sliderWrapper);\n\t\tsliderWrapper.appendChild(this.slider);\n\t\treturn sliderWrapper;\n\t}\n\n\tgenerateBullets() {\n\t\tconst bulletsContainer = document.createElement('ul');\n\t\tbulletsContainer.classList.add('slider__navigation');\n\t\tthis.slides = this.slider.children;\n\t\tfor (let i = 0; i < this.slides.length; i++) {\n\t\t\tconst bullet = document.createElement('li');\n\t\t\tconst button = document.createElement('button');\n\t\t\tbutton.innerHTML = i + 1;\n\t\t\tbutton.type = 'button';\n\t\t\tbutton.dataset.index = i;\n\t\t\tbutton.addEventListener('click', this.handleClickedBullet.bind(this));\n\t\t\tbullet.appendChild(button);\n\t\t\tbulletsContainer.appendChild(bullet);\n\t\t}\n\t\tthis.slider.parentNode.insertBefore(bulletsContainer, this.slider.nextSibling);\n\t\treturn bulletsContainer.querySelectorAll('button');\n\t}\n\n\thandleClickedBullet(ev) {\n\t\t// clear the active class\n\t\tconst active = ev.target.closest('ul').querySelector('.active');\n\t\tif (active) {\n\t\t\tactive.classList.remove('active');\n\t\t}\n\t\tev.target.classList.add('active');\n\t\t// Set active slide\n\t\tconst { index } = ev.target.dataset;\n\n\t\tthis.resetActiveSlide();\n\t\tthis.setActiveSlide(index);\n\t\tif (this.timer) {\n\t\t\tclearTimeout(this.timer);\n\t\t}\n\t\tthis.startTimer(+index);\n\t}\n\n\tresetActiveSlide() {\n\t\tconst active = this.wrapper.querySelector('.slider__slide--active');\n\t\tif (active) {\n\t\t\tactive.classList.remove('slider__slide--active');\n\t\t}\n\t}\n\n\tsetActiveSlide(index) {\n\t\tthis.slides[index].classList.add('slider__slide--active');\n\t}\n\n\tstartTimer(index) {\n\t\tlet nextSlideIndex = index + 1;\n\t\tthis.timer = setTimeout(() => {\n\t\t\tif (!this.slides[nextSlideIndex]) {\n\t\t\t\tnextSlideIndex = 0;\n\t\t\t}\n\t\t\tthis.bullets[nextSlideIndex].click();\n\t\t}, this.options.transition);\n\t}\n}\n\nexport default Fader;\n"],"file":"fader.js"}