{"version":3,"sources":["../lib/fader.js"],"names":["Fader","selector","options","initialize","slider","document","querySelector","console","warn","wrapper","generateWrapper","bullets","generateBullets","click","sliderWrapper","createElement","classList","add","parentNode","appendChild","bulletsContainer","slides","children","i","length","bullet","button","innerHTML","type","dataset","index","addEventListener","handleClickedBullet","bind","insertBefore","nextSibling","querySelectorAll","ev","active","target","closest","remove","resetActiveSlide","setActiveSlide","timer","clearTimeout","startTimer","nextSlideIndex","setTimeout"],"mappings":"AAAA;;;;;;;;;;;;;IAEMA,K;AACL,iBAAYC,QAAZ,EAAsBC,OAAtB,EAA+B;AAAA;;AAC9B,SAAKA,OAAL,GAAeA,OAAf;AACA,SAAKD,QAAL,GAAgBA,QAAhB;AACA,SAAKE,UAAL;AACA;;;;iCAEY;AACZ,WAAKC,MAAL,GAAcC,QAAQ,CAACC,aAAT,CAAuB,KAAKL,QAA5B,CAAd;;AACA,UAAI,CAAC,KAAKG,MAAV,EAAkB;AACjBG,QAAAA,OAAO,CAACC,IAAR,wDAA6D,KAAKP,QAAlE;AACA,eAAO,KAAP;AACA;;AAED,WAAKQ,OAAL,GAAe,KAAKC,eAAL,EAAf;AACA,WAAKC,OAAL,GAAe,KAAKC,eAAL,EAAf;AACA,WAAKD,OAAL,CAAa,CAAb,EAAgBE,KAAhB;AACA;;;sCAEiB;AACjB,UAAMC,aAAa,GAAGT,QAAQ,CAACU,aAAT,CAAuB,KAAvB,CAAtB;AACAD,MAAAA,aAAa,CAACE,SAAd,CAAwBC,GAAxB,CAA4B,QAA5B;AACA,WAAKb,MAAL,CAAYY,SAAZ,CAAsBC,GAAtB,CAA0B,gBAA1B;AACA,WAAKb,MAAL,CAAYc,UAAZ,CAAuBC,WAAvB,CAAmCL,aAAnC;AACAA,MAAAA,aAAa,CAACK,WAAd,CAA0B,KAAKf,MAA/B;AACA,aAAOU,aAAP;AACA;;;sCAEiB;AACjB,UAAMM,gBAAgB,GAAGf,QAAQ,CAACU,aAAT,CAAuB,IAAvB,CAAzB;AACAK,MAAAA,gBAAgB,CAACJ,SAAjB,CAA2BC,GAA3B,CAA+B,oBAA/B;AACA,WAAKI,MAAL,GAAc,KAAKjB,MAAL,CAAYkB,QAA1B;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKF,MAAL,CAAYG,MAAhC,EAAwCD,CAAC,EAAzC,EAA6C;AAC5C,YAAME,MAAM,GAAGpB,QAAQ,CAACU,aAAT,CAAuB,IAAvB,CAAf;AACA,YAAMW,MAAM,GAAGrB,QAAQ,CAACU,aAAT,CAAuB,QAAvB,CAAf;AACAW,QAAAA,MAAM,CAACC,SAAP,GAAmBJ,CAAC,GAAG,CAAvB;AACAG,QAAAA,MAAM,CAACE,IAAP,GAAc,QAAd;AACAF,QAAAA,MAAM,CAACG,OAAP,CAAeC,KAAf,GAAuBP,CAAvB;AACAG,QAAAA,MAAM,CAACK,gBAAP,CAAwB,OAAxB,EAAiC,KAAKC,mBAAL,CAAyBC,IAAzB,CAA8B,IAA9B,CAAjC;AACAR,QAAAA,MAAM,CAACN,WAAP,CAAmBO,MAAnB;AACAN,QAAAA,gBAAgB,CAACD,WAAjB,CAA6BM,MAA7B;AACA;;AACD,WAAKrB,MAAL,CAAYc,UAAZ,CAAuBgB,YAAvB,CAAoCd,gBAApC,EAAsD,KAAKhB,MAAL,CAAY+B,WAAlE;AACA,aAAOf,gBAAgB,CAACgB,gBAAjB,CAAkC,QAAlC,CAAP;AACA;;;wCAEmBC,E,EAAI;AAEvB,UAAMC,MAAM,GAAGD,EAAE,CAACE,MAAH,CAAUC,OAAV,CAAkB,IAAlB,EAAwBlC,aAAxB,CAAsC,SAAtC,CAAf;;AACA,UAAIgC,MAAJ,EAAY;AACXA,QAAAA,MAAM,CAACtB,SAAP,CAAiByB,MAAjB,CAAwB,QAAxB;AACA;;AACDJ,MAAAA,EAAE,CAACE,MAAH,CAAUvB,SAAV,CAAoBC,GAApB,CAAwB,QAAxB;AANuB,UAQfa,KARe,GAQLO,EAAE,CAACE,MAAH,CAAUV,OARL,CAQfC,KARe;AAUvB,WAAKY,gBAAL;AACA,WAAKC,cAAL,CAAoBb,KAApB;;AACA,UAAI,KAAKc,KAAT,EAAgB;AACfC,QAAAA,YAAY,CAAC,KAAKD,KAAN,CAAZ;AACA;;AACD,WAAKE,UAAL,CAAgB,CAAChB,KAAjB;AACA;;;uCAEkB;AAClB,UAAMQ,MAAM,GAAG,KAAK7B,OAAL,CAAaH,aAAb,CAA2B,wBAA3B,CAAf;;AACA,UAAIgC,MAAJ,EAAY;AACXA,QAAAA,MAAM,CAACtB,SAAP,CAAiByB,MAAjB,CAAwB,uBAAxB;AACA;AACD;;;mCAEcX,K,EAAO;AACrB,WAAKT,MAAL,CAAYS,KAAZ,EAAmBd,SAAnB,CAA6BC,GAA7B,CAAiC,uBAAjC;AACA;;;+BAEUa,K,EAAO;AAAA;;AACjB,UAAIiB,cAAc,GAAGjB,KAAK,GAAG,CAA7B;AACA,WAAKc,KAAL,GAAaI,UAAU,CAAC,YAAM;AAC7B,YAAI,CAAC,KAAI,CAAC3B,MAAL,CAAY0B,cAAZ,CAAL,EAAkC;AACjCA,UAAAA,cAAc,GAAG,CAAjB;AACA;;AACD,QAAA,KAAI,CAACpC,OAAL,CAAaoC,cAAb,EAA6BlC,KAA7B;AACA,OALsB,EAKpB,IALoB,CAAvB;AAMA;;;;;;eAGab,K","sourcesContent":["'use strict';\n\nclass Fader {\n\tconstructor(selector, options) {\n\t\tthis.options = options;\n\t\tthis.selector = selector;\n\t\tthis.initialize();\n\t}\n\n\tinitialize() {\n\t\tthis.slider = document.querySelector(this.selector);\n\t\tif (!this.slider) {\n\t\t\tconsole.warn(`Error: Cannot find element with the selector ${this.selector}`);\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.wrapper = this.generateWrapper();\n\t\tthis.bullets = this.generateBullets();\n\t\tthis.bullets[0].click();\n\t}\n\n\tgenerateWrapper() {\n\t\tconst sliderWrapper = document.createElement('div');\n\t\tsliderWrapper.classList.add('slider');\n\t\tthis.slider.classList.add('slider__slides');\n\t\tthis.slider.parentNode.appendChild(sliderWrapper);\n\t\tsliderWrapper.appendChild(this.slider);\n\t\treturn sliderWrapper;\n\t}\n\n\tgenerateBullets() {\n\t\tconst bulletsContainer = document.createElement('ul');\n\t\tbulletsContainer.classList.add('slider__navigation');\n\t\tthis.slides = this.slider.children;\n\t\tfor (let i = 0; i < this.slides.length; i++) {\n\t\t\tconst bullet = document.createElement('li');\n\t\t\tconst button = document.createElement('button');\n\t\t\tbutton.innerHTML = i + 1;\n\t\t\tbutton.type = 'button';\n\t\t\tbutton.dataset.index = i;\n\t\t\tbutton.addEventListener('click', this.handleClickedBullet.bind(this));\n\t\t\tbullet.appendChild(button);\n\t\t\tbulletsContainer.appendChild(bullet);\n\t\t}\n\t\tthis.slider.parentNode.insertBefore(bulletsContainer, this.slider.nextSibling);\n\t\treturn bulletsContainer.querySelectorAll('button');\n\t}\n\n\thandleClickedBullet(ev) {\n\t\t// clear the active class\n\t\tconst active = ev.target.closest('ul').querySelector('.active');\n\t\tif (active) {\n\t\t\tactive.classList.remove('active');\n\t\t}\n\t\tev.target.classList.add('active');\n\t\t// Set active slide\n\t\tconst { index } = ev.target.dataset;\n\n\t\tthis.resetActiveSlide();\n\t\tthis.setActiveSlide(index);\n\t\tif (this.timer) {\n\t\t\tclearTimeout(this.timer);\n\t\t}\n\t\tthis.startTimer(+index);\n\t}\n\n\tresetActiveSlide() {\n\t\tconst active = this.wrapper.querySelector('.slider__slide--active');\n\t\tif (active) {\n\t\t\tactive.classList.remove('slider__slide--active');\n\t\t}\n\t}\n\n\tsetActiveSlide(index) {\n\t\tthis.slides[index].classList.add('slider__slide--active');\n\t}\n\n\tstartTimer(index) {\n\t\tlet nextSlideIndex = index + 1;\n\t\tthis.timer = setTimeout(() => {\n\t\t\tif (!this.slides[nextSlideIndex]) {\n\t\t\t\tnextSlideIndex = 0;\n\t\t\t}\n\t\t\tthis.bullets[nextSlideIndex].click();\n\t\t}, 5000);\n\t}\n}\n\nexport default Fader;\n"],"file":"fader.js"}